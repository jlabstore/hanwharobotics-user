<div class="layer_inner">


	<!-- progress bar -->
	<div id="loading-prograss" class="loading-prograss" style="display: none;position: fixed;left: 50%;top: 48%;" >
    <div class="container-spinner">
      <div class="spinner"><i class="fas fa-spinner fa-5x" ></i></div>
    </div>
	</div>
  <style>
    .container-spinner {
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .spinner {
        animation: spin 2s linear infinite;
      }
      @keyframes spin {
        from {
          transform: rotate(0);
        }
        to {
          transform: rotate(360deg);
        }
      }
    @keyframes spin {
        from {
          transform: rotate(0);
        }
        to {
          transform: rotate(360deg);
        }
      }
  </style>
	<!-- /progress bar -->

  <button class="btn_close" onclick="closeInquiryLayer()"><span>close</span></button>

  <div class="title">문의하기</div>

  <p class="desc">
    아래 신청폼을 통해서 궁금하신 점을 문의해주시면 기입하신 연락처로<br />각 담당자분들이 연락드립니다.
  </p>

  <form>
    <div class="form_row">
      <div class="form_input">
        <label for="name">이름<span>*</span></label>
        <input type="text" name="name" id="name" />
      </div>
      <div class="form_input">
        <label for="tel">연락처<span>*</span></label>
        <input type="text" name="tel" id="tel" />
      </div>
      <div class="form_input">
        <label for="email">이메일주소<span>*</span></label>
        <input type="text" name="email" id="email" />
      </div>
      <div class="form_input" style="display: none;">
        <label for="inquiryType">문의유형<span>*</span></label>
        <input type="text" name="inquiryType" id="inquiryType" readonly/>
      </div>
      <div class="form_input">
        <label for="company">회사명</label>
        <input type="text" name="company" id="company" />
      </div>
      <div class="form_input">
        <label for="inquiry">문의내용</label>

        <div class="inquiry">
          <textarea name="inquiry" id="inquiry"></textarea>
        </div>
      </div>
    </div>

    <div class="terms">
      <div class="sub_title">
        개인정보 수집 및 이용동의
      </div>

      <div class="terms_box">
        <div class="terms_inner">
          한화 로보틱스는 이용자의 문의 대응 및 더 나은 서비스 제공을 위한 이용 분석 등을 위해 이용자의 개인정보를 수집합니다. 아래 내용을 자세히 읽어 보시고 동의 여부를 체크하여 주시기 바랍니다.<br /><br />
          <strong>수집의 목적</strong><br />
          한화 로보틱스는 이용자의 문의 대응 및 더 나은 서비스 제공을 위한 이용 분석 등을 위해 이용자의 개인정보를 수집합니다. 아래 내용을 자세히 읽어 보시고 동의 여부를 체크하여 주시기 바랍니다.<br /><br />
          한화 로보틱스는 이용자의 문의 대응 및 더 나은 서비스 제공을 위한 이용 분석 등을 위해 이용자의 개인정보를 수집합니다. 아래 내용을 자세히 읽어 보시고 동의 여부를 체크하여 주시기 바랍니다.<br /><br />
        </div>
      </div>

      <div class="form_input">
        <input type="checkbox" name="agree" id="agree" />
        <label for="agree">개인정보 수집 및 이용동의를 자세히 읽어 보신 후 동의해 주시기 바랍니다.</label>
      </div>

      <div class="btn_group">
        <button type="button" class="btn btn--block btn--orange" onclick="validate()">보내기</button>
        <button type="button" class="btn btn--block btn--gray"  onclick="closeInquiryLayer()">취소</button>
      </div>
    </div>
  </form>

</div>

<div class="footer">
  <div class="sub_title">
    <strong>담당자 연락처</strong>
  </div>
  <div class="contents">
    <p>대표 E-MAIL : robot_inquiry@hanwha.com</p>
    <p>영업/마케팅 문의 E-MAIL : AGV영업_맹진호 차장 (mjh1129@hanwha.com)</p>
    <p>로봇국내영업 : 박길영 대리 (gilyeong.bak@hanwha.com)</p>
    <p>로봇해외영업 : 하인오 대리 (ioh9310@hanwha.com)</p>
  </div>
</div>
  <script>
    function validate(){
      if($('#name').val() == ''){
        alert('이름을 입력해주세요.');
        $('#name').focus();
        return;
      }else if($('#tel').val() == ''){
        alert('연락처를 입력해주세요.');
        $('#tel').focus();
        return;
      }else if($('#email').val() == ''){
        alert('이메일을 입력해주세요.');
        $('#email').focus();
        return;
      }else if($('#agree').is(':checked') == false){
        alert('개인정보 수집 및 이용동의에 동의해주세요.');
        $('#agree').focus();
        return;
      }else{
        sendMail();
      }
    }
    function sendMail(){
      var temp = {
        name: $('#name').val(),
        tel: $('#tel').val(),
        email: $('#email').val(),
        inquiryType: $('#inquiryType').val(),
        company : $('#company').val(),
        inquiry : $('#inquiry').val()
      }
          COMM.ajax({
                url : "/contact/inquiry/send",
                headers: {'Content-Type': 'application/json'},
                data: JSON.stringify(temp),
                success : function(data) {
                      if(data.code === 200){
                        alert('문의가 완료되었습니다. \r\n담당자가 확인 후 연락드릴 예정입니다')
                        closeInquiryLayer();
                      }
                },
                error : function(jqXHR, textStatus, errorThrown){
                      console.log(jqXHR.status, jqXHR);
                      
                },
                beforeSend: function (){  
                      $('#loading-prograss').show();
                },
                complete : function (){
                      $('#loading-prograss').hide();
                },
          });
    }
  </script>